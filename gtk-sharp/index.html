<!DOCTYPE HTML>
<html lang="zh-hans">
<head>
  <meta charset="utf-8">
  
  <title>在Windows环境下使用C#快速进行GTK程序开发 | undefined | everything starts &amp; ends</title>

  
  <meta name="author" content="jasonslyvia">
  

  
  <meta name="description" content="其实这是一个挺操蛋的需求，如果我想用 C# 开发，界面干嘛非要用 GTK？如果要用 GTK，为什么要用 C# 这种跨平台兼容性不如 C++ 的语言？所以在开始正文前，先简单的介绍一下写这篇文章的原因。
本学期，我有幸上了一节名为——呃，不好意思记不起来了——的课，主要是一位德高望重的教授给我们照着念">
  

  
  
  <meta name="keywords" content="c#,gtk">
  

  <meta id="viewport" name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">

  <meta property="og:title" content="在Windows环境下使用C#快速进行GTK程序开发"/>

  <meta property="og:site_name" content="undefined"/>

  
  <meta property="og:image" content="/favicon.ico"/>
  

  <link href="/favicon.ico" rel="icon">
  <link rel="alternate" href="/atom.xml" title="undefined" type="application/atom+xml">
  <link rel="stylesheet" href="/css/style.css" media="screen" type="text/css">
</head>


<body>
<div class="blog">
  <div class="content">

    <header>
  <div class="site-branding">
    <h1 class="site-title">
      <a href="/">undefined</a>
    </h1>
    <p class="site-description">everything starts &amp; ends</p>
  </div>
  <nav class="site-navigation">
    <ul class=" dim">
      
        <li><a href="/">主页</a></li>
      
        <li><a href="/archives">归档</a></li>
      
        <li><a href="/about">关于</a></li>
      
    </ul>
  </nav>
</header>


    <main class="site-main posts-loop">
    <article class=" single-post">

  
    
    <h3 class="article-title"><span>在Windows环境下使用C#快速进行GTK程序开发</span></h3>
    
  

  <div class="article-top-meta">
    <span class="posted-on">
      <a href="/gtk-sharp/" rel="bookmark">
        <time class="entry-date published" datetime="2013-05-23T17:26:00.000Z">
          2013-05-23
        </time>
      </a>
      <a href="https://github.com/jasonslyvia/undefinedblog/tree/master/source/_posts/在Windows环境下使用C-快速进行GTK程序开发.md" target="_blank" style="margin-left: 10px" rel="nofollow">查看源码</a>
    </span>
  </div>


  

  <div class="article-content">
    <div class="entry">
      
        <p>其实这是一个挺操蛋的需求，如果我想用 C# 开发，界面干嘛非要用 GTK？如果要用 GTK，为什么要用 C# 这种跨平台兼容性不如 C++ 的语言？所以在开始正文前，先简单的介绍一下写这篇文章的原因。</p>
<p>本学期，我有幸上了一节名为——呃，不好意思记不起来了——的课，主要是一位德高望重的教授给我们照着念他自己写的一本教材，教材内容涉及了 Linux 基础知识、MySQL、GCC、GTK 等若干内容。期末的作业就是按照学号分配上述内容，我分到了 MySQL。按理说写个 MySQL 应用是相当简单的事，一个下午就能写个简易的 CMS 出来。</p>
<p>然而教授要求了，<strong>如果你的作品需要带界面，那就必须要用 GTK。</strong>于是我就不得不去写 GTK 程序，比起在 Linux 下拿 C 写，我更倾向于用更熟悉的语言解决这个脑残的需求。</p>
<p>最后废话一行，本来想用 JavaScript 的 GNOME 绑定 <a href="https://live.gnome.org/Seed" target="_blank">Seed</a>，不过配置和编译的过程太复杂。既然找到了更方便的 GTK# 和 Windows 下的神级 IDE Xamarin Studio，没有理由不用简单的。好了，下面开始正文。</p>
<p></p><h2>GTK# 及 MonoDevelop</h2><br><a href="http://www.mono-project.com/GtkSharp" target="_blank">GTK#</a>（GTK Sharp）顾名思义就是 C# 的 GNOME 的绑定，主要实现的是 GTK+ 的绑定。<p></p>
<p><a href="http://monodevelop.com/" target="_blank">MonoDevelop</a> 是一款跨平台的 IDE，用于 C# 及 .NET 语言的编写及调试，用起来跟 Visual Studio 没太大差别。MonoDevelop 的程序名称其实叫做 Xamarin Studio，最大的特点就是内置了 GTK 的图形化编辑界面，你可以像编写 Windows Form 程序那样通过拖拖拽拽完成界面设计和事件绑定，跟 <a href="http://glade.gnome.org/" target="_blank">Glade</a> 类似却比 Glade 更强大。</p>
<p>这些东西，都是开源的，貌似都是 GPL 协议。</p>
<p></p><h2>简单开始</h2><br>首先下载 Xamarin Studio，<a href="http://monodevelop.com/Download" target="_blank">下载地址</a><p></p>
<p>如果你的电脑里没有装<strong> .NET Framework 4.0</strong> 或更高版本，则需要先安装之。同时，安装完 .NET 后还需要安装 <strong>GTK# for .NET。</strong></p>
<p>以上内容均可以在下载链接中找到，下载后依次安装即可。</p>
<p>第一次运行 Xamarin Studio 的界面如下图，依次点击「New」-「C#」-「GTK# 2.0工程」新建一个 GTK 项目。</p>
<p>[caption id=”attachment_207076” align=”aligncenter” width=”570”]<a href="http://undefinedblog.com/wp-content/uploads/2013/05/gtk-sharp.jpg"><img class=" wp-image-207076  " alt="Xamarin Studio" src="http://undefinedblog.com/wp-content/uploads/2013/05/gtk-sharp.jpg" width="570" height="331"></a> 第一次运行Xamarin Studio[/caption]</p>
<p>在左侧「用户界面」-「MainWindow」双击，调出用户界面的设计界面，同时在右侧可以切换工具栏，这里可以看到你熟悉的各种控件。</p>
<p>[caption id=”attachment_207078” align=”aligncenter” width=”609”]<a href="http://undefinedblog.com/wp-content/uploads/2013/05/xamarin-studio.png"><img class="size-full wp-image-207078" alt="xamarin studio编辑用户界面" src="http://undefinedblog.com/wp-content/uploads/2013/05/xamarin-studio.png" width="609" height="385"></a> Xamarin Studio编辑用户界面[/caption]</p>
<p>GTK 的界面设计稍微不同于 Windows Form 或 WPF，具体应该怎么设计这里不多赘述了。只说明一点：<strong>先拖一些容器进去，这些容器用来控制界面的版式和布局，再在容器内添加具体的空间，如按钮、文本框等。</strong></p>
<p>如何给控件绑定事件？假设你已经往界面里拖入了一个按钮，单击这个按钮，然后找到右侧的「属性」边栏，切换到「信号」，找到「Button Signals」。</p>
<p>[caption id=”attachment_207079” align=”aligncenter” width=”287”]<a href="http://undefinedblog.com/wp-content/uploads/2013/05/binding-event-for-gtk-sharp.png"><img class="size-full wp-image-207079" alt="为控件绑定事件" src="http://undefinedblog.com/wp-content/uploads/2013/05/binding-event-for-gtk-sharp.png" width="287" height="318"></a> 为控件绑定事件[/caption]</p>
<p>其中 「Clicked」对应的就是按钮的点击事件，单击「Click here to add …」激活输入框，输入为该按钮绑定的事件函数，例如 <strong>btn_clicked</strong>。绑定事件后你能看到该项对应显示效果被加粗了。</p>
<p>这个时候，点击下方的「Source」切换到代码界面，就能看到 IDE 已经自动为刚才绑定的事件生成了函数，在函数里实现相关功能即可。</p>
<p>[caption id=”attachment_207080” align=”aligncenter” width=”604”]<a href="http://undefinedblog.com/wp-content/uploads/2013/05/gtk-button-clicked.png"><img class="size-full wp-image-207080" alt="Xamarin Studio 代码编辑界面" src="http://undefinedblog.com/wp-content/uploads/2013/05/gtk-button-clicked.png" width="604" height="506"></a> Xamarin Studio 代码编辑界面[/caption]</p>
<p></p><h2>一些有用的资源</h2><p></p>
<ul><br>    <li>一个简单的视频教程，演示了怎么利用 Xamarin Studio 创建一个带界面的程序，需翻墙<br><a href="http://monodevelop.com/Documentation/Creating_a_simple_user_interface_with_MonoDevelop" target="_blank" rel="noopener">http://monodevelop.com/Documentation/Creating_a_simple_user_interface_with_MonoDevelop</a></li><br>    <li>GTK# 在线文档<br><a href="http://docs.go-mono.com/?link=N%3aGtk" target="_blank" rel="noopener">http://docs.go-mono.com/?link=N%3aGtk</a></li><br></ul>
      
    </div>

  </div>

  <div class="article-footer">
    <div class="article-meta pull-left">

    

    
    

    <span class="post-tags">
      <i class="icon-tags"></i>
        <a href="/tags/c/">c#</a><a href="/tags/gtk/">gtk</a>
    </span>
    

    </div>

    
  </div>
</article>

  
	<section id="comments" class="comment">
	  <div id="disqus_thread">
	  <noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
	  </div>
	</section>

	<script type="text/javascript">
	var disqus_shortname = 'undefinedblog';
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	(function(){
	  var dsq = document.createElement('script');
	  dsq.type = 'text/javascript';
	  dsq.async = true;
	  dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
	  (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	}());
	</script>





    </main>

    <footer class="site-footer">
  <p class="site-info">
    Powered by <a href="https://hexo.io/" target="_blank" rel="nofollow">Hexo</a> and
    Theme adapted from <a href="https://github.com/CodeDaraW/Hacker" target="_blank" rel="nofollow">Hacker</a>
    <br />
    
    &copy; 2017 jasonslyvia
    
  </p>
</footer>

    
<script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
                (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
            m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-50332938-1', 'auto');
    ga('send', 'pageview');

</script>

  </div>
</div>
</body>
</html>
